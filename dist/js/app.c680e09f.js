(function(){"use strict";var e={804:function(e,t,o){var i=o(9242),s=o(3396),n=o(7139);const d={class:"app has-background-danger-light has-text-danger"},r={class:"top has-background-danger-light"},l={class:"columns"},c={class:"column is-4 is-flex is-align-items-center is-justify-content-center"},u={key:0},a={class:"column is-4 is-flex is-align-items-center is-justify-content-center"},v={class:"title has-text-danger is-size-1"},h={key:0,class:"column is-4 is-flex is-align-items-center is-justify-content-center"},p={key:0,class:"video-selection columns is-multiline"};function m(e,t,o,i,m,g){const y=(0,s.up)("VideoSelect"),f=(0,s.up)("SelectedVideos");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",r,[(0,s._)("div",l,[(0,s._)("div",c,[m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",u,"You have selected "+(0,n.zw)(g.selectedVideosDuration)+" of your 8 songs",1))]),(0,s._)("div",a,[(0,s._)("h1",v,(0,n.zw)(m.name)+"'s Songs",1)]),m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h,[g.playPossible?((0,s.wg)(),(0,s.iD)("button",{key:0,class:"button is-danger",onClick:t[0]||(t[0]=(...e)=>g.playSelectedVideos&&g.playSelectedVideos(...e))},"Play")):(0,s.kq)("",!0)]))])]),m.showSelectedVideos?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",p,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.videos,((e,t)=>((0,s.wg)(),(0,s.j4)(y,{key:t,video:e,isSelected:m.selectedVideos.includes(e),onToggleSelection:g.toggleVideoSelection,class:"column is-4"},null,8,["video","isSelected","onToggleSelection"])))),128))])),m.showSelectedVideos?((0,s.wg)(),(0,s.j4)(f,{key:1,selectedVideos:m.selectedVideos},null,8,["selectedVideos"])):(0,s.kq)("",!0)])}o(7658);var g=o(4161);const y={class:"selected-videos"},f={class:"columns is-multiline"};function b(e,t,o,i,n,d){const r=(0,s.up)("VideoPlayer");return(0,s.wg)(),(0,s.iD)("div",y,[(0,s._)("div",f,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.selectedVideos,((e,t)=>((0,s.wg)(),(0,s.iD)("div",{key:t,class:"video-container column is-4"},[(0,s.Wm)(r,{video:e,index:t},null,8,["video","index"])])))),128))])])}const V={class:"video-player"},w=["id","src"];function S(e,t,o,i,n,d){return(0,s.wg)(),(0,s.iD)("div",V,[(0,s._)("iframe",{id:n.playerId,src:d.embeddedUrl,frameborder:"0",allowfullscreen:""},"\n    ",8,w)])}var x={name:"VideoPlayer",props:{video:{type:Object,required:!0},index:{type:Number,required:!0}},data(){return{playerId:"youtube-player"+this.index}},mounted(){this.initYouTubePlayer()},computed:{embeddedUrl(){const e=this.extractVideoId(this.video.url);return`https://www.youtube.com/embed/${e}`}},methods:{extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},initYouTubePlayer(){new window.YT.Player(this.playerId,{videoId:this.extractVideoId(this.video.url),playerVars:{rel:0,autoplay:1,fs:1},events:{onReady:this.onPlayerReady}})},onPlayerReady(e){e.target.playVideo()}}},k=o(89);const _=(0,k.Z)(x,[["render",S],["__scopeId","data-v-6e234f96"]]);var D=_,I={name:"SelectedVideos",props:{selectedVideos:{type:Array,required:!0}},components:{VideoPlayer:D},methods:{getEmbeddedUrl(e){const t=this.extractVideoId(e.url);return`https://www.youtube.com/embed/${t}`},extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null}}};const P=(0,k.Z)(I,[["render",b],["__scopeId","data-v-65aa453e"]]);var O=P;const j={class:"container"},T=["src"];function U(e,t,o,i,d,r){return(0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",{class:"block",onClick:t[0]||(t[0]=(...e)=>r.toggleSelection&&r.toggleSelection(...e))},[(0,s._)("div",{class:(0,n.C_)(["video-select",{selected:o.isSelected}])},[(0,s._)("p",null,"This video counts as "+(0,n.zw)(this.video.value),1),(0,s._)("img",{src:r.thumbnailUrl,alt:"Video Thumbnail"},null,8,T)],2)])])}var q={name:"VideoSelect",props:{video:{type:Object,required:!0},isSelected:Boolean},computed:{thumbnailUrl(){const e=this.extractVideoId(this.video.url);return`https://img.youtube.com/vi/${e}/0.jpg`}},methods:{extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},toggleSelection(){this.$emit("toggle-selection",this.video)}}};const z=(0,k.Z)(q,[["render",U],["__scopeId","data-v-018ebc08"]]);var C=z,E={name:"App",data(){return{videos:[],selectedVideos:[],totalDurationLimit:8,showSelectedVideos:!1,name:""}},components:{SelectedVideos:O,VideoSelect:C},computed:{playPossible(){return this.selectedVideosDuration<=this.totalDurationLimit},selectedVideosDuration(){return this.selectedVideos.reduce(((e,t)=>e+parseFloat(t.value)),0)}},methods:{async fetchVideoUrls(){try{const e=await g.Z.get("https://docs.google.com/spreadsheets/d/e/2PACX-1vRp17gc4isgUx4lS9joSFBbE-82O1JetltGyzHGr4ge93bUzEHIavTzNfvzMdx3qPGOgGxM6Munei--/pub?output=csv");let t=e.data.split("\r\n"),o=t.splice(0,5);this.name=o[1].split(",")[1],this.totalDurationLimit=Number(o[2].split(",")[1]);let i=t.shift().split(",").map((e=>e.toLowerCase()));i[2]="value",this.videos=t.map((e=>{let t=e.split(","),o={};return t.forEach(((e,t)=>{o[i[t]]=e.replaceAll(";","\n")})),o}))}catch(e){console.error("Error fetching video URLs",e)}},getEmbeddedUrl(e){const t=this.extractVideoId(e.url);return`https://www.youtube.com/embed/${t}`},extractVideoId(e){const t=e.match(/(?:\/embed\/|v=|\/\d{2,4}\/|youtu\.be\/|\/v\/|\/e\/|\/u\/\d{1,2}\/|\/embed\/|\/v\/|e\/|u\/\d{1,2}\/|^youtu\.be\/)([^#?\s]+)/);return t&&11===t[1].length?t[1]:null},playSelectedVideos(){this.selectedVideosDuration>this.totalDurationLimit?alert("Total duration exceeds 40 minutes. Please select fewer videos."):this.showSelectedVideos=!0},toggleVideoSelection(e){const t=this.selectedVideos.indexOf(e);-1!==t?this.selectedVideos.splice(t,1):this.selectedVideos.push(e)}},mounted(){this.fetchVideoUrls()}};const Y=(0,k.Z)(E,[["render",m]]);var L=Y;window.onYouTubeIframeAPIReady=function(){(0,i.ri)(L).mount("#app")}}},t={};function o(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i].call(n.exports,n,n.exports,o),n.exports}o.m=e,function(){var e=[];o.O=function(t,i,s,n){if(!i){var d=1/0;for(u=0;u<e.length;u++){i=e[u][0],s=e[u][1],n=e[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||d>=n)&&Object.keys(o.O).every((function(e){return o.O[e](i[l])}))?i.splice(l--,1):(r=!1,n<d&&(d=n));if(r){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[i,s,n]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var i in t)o.o(t,i)&&!o.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,n,d=i[0],r=i[1],l=i[2],c=0;if(d.some((function(t){return 0!==e[t]}))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(l)var u=l(o)}for(t&&t(i);c<d.length;c++)n=d[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(u)},i=self["webpackChunkyoutube_app"]=self["webpackChunkyoutube_app"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=o.O(void 0,[998],(function(){return o(804)}));i=o.O(i)})();
//# sourceMappingURL=app.c680e09f.js.map